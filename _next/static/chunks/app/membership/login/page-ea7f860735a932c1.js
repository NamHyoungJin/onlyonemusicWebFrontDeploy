(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1005],{24407:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var t=a(95155),r=a(12115),l=a(6874),n=a.n(l),o=a(35695),c=a(31886);function i(){let e=(0,o.useRouter)(),[s,a]=(0,r.useState)({username:"",password:""}),[l,i]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),u=e=>{a({...s,[e.target.name]:e.target.value})},x=async a=>{a.preventDefault(),m(!0),i("");try{let a=await (0,c.Lx)(s);if(a.data&&a.data.onlyonemusicAPIResponse){let s=a.data.onlyonemusicAPIResponse;if("00"===s.ErrorCode){let a=s.Result;a.access&&"string"==typeof a.access&&a.access.trim().length>0?localStorage.setItem("access_token",a.access):console.error("❌ [LoginForm.tsx] 새로운 포맷 유효하지 않은 access_token:",a.access),a.refresh&&"string"==typeof a.refresh&&a.refresh.trim().length>0?localStorage.setItem("refresh_token",a.refresh):console.error("❌ [LoginForm.tsx] 새로운 포맷 유효하지 않은 refresh_token:",a.refresh),localStorage.setItem("user_info",JSON.stringify(a.user)),["syscodeData","licenseApprovalStep","licenseApprovalKind","licenseApprovalFormData","licenseApprovalSaved"].forEach(e=>{localStorage.removeItem(e)}),window.dispatchEvent(new Event("loginStatusChanged")),e.push("/")}else i(s.Message||"로그인에 실패했습니다.")}else if(a.data&&a.data.access)a.data.access&&"string"==typeof a.data.access&&a.data.access.trim().length>0?localStorage.setItem("access_token",a.data.access):console.error("❌ [LoginForm.tsx] 기존 포맷 유효하지 않은 access_token:",a.data.access),a.data.refresh&&"string"==typeof a.data.refresh&&a.data.refresh.trim().length>0?localStorage.setItem("refresh_token",a.data.refresh):console.error("❌ [LoginForm.tsx] 기존 포맷 유효하지 않은 refresh_token:",a.data.refresh),localStorage.setItem("user_info",JSON.stringify(a.data.user)),["syscodeData","licenseApprovalStep","licenseApprovalKind","licenseApprovalFormData","licenseApprovalSaved"].forEach(e=>{localStorage.removeItem(e)}),window.dispatchEvent(new Event("loginStatusChanged")),e.push("/");else if(a.error&&"object"==typeof a.error){let e=a.error;e.non_field_errors?i(e.non_field_errors[0]):e.username?i(e.username[0]):e.password?i(e.password[0]):i("로그인에 실패했습니다.")}else i(a.error||"로그인에 실패했습니다.")}catch(e){i("로그인 중 오류가 발생했습니다.")}finally{m(!1)}};return(0,t.jsx)("div",{className:"min-h-[55vh] flex items-center justify-center bg-[#fafbfc] px-4 mb-60",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-12 w-full max-w-5xl",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-10 w-full max-w-md flex flex-col items-center",children:[(0,t.jsx)("img",{src:"/logo_dark.png",alt:"ONLY ONE MUSIC",className:"w-56 mb-8"}),(0,t.jsxs)("form",{onSubmit:x,className:"w-full flex flex-col gap-4",children:[(0,t.jsx)("input",{type:"text",name:"username",value:s.username,onChange:u,placeholder:"아이디",className:"border-2 border-black rounded-md px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),(0,t.jsx)("input",{type:"password",name:"password",value:s.password,onChange:u,placeholder:"비밀번호",className:"border border-gray-300 rounded-md px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),l&&(0,t.jsx)("div",{className:"text-red-500 text-sm text-center mt-1 mb-2",children:l}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"bg-[#1CA9E3] text-white py-3 rounded-md font-semibold text-lg hover:bg-[#189fd1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:d?"로그인 중...":"로그인"})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-2 text-sm text-gray-500 mt-6",children:[(0,t.jsx)(n(),{href:"/membership/find",className:"hover:underline",children:"아이디, 비밀번호 찾기"}),(0,t.jsx)("span",{children:"|"}),(0,t.jsx)(n(),{href:"/membership/join",className:"hover:underline",children:"회원가입"})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 text-base",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC8E"}),"아티스트와 음악을 접하는 이들의 삶을 가치있게 만들어드립니다."]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 text-base",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83E\uDD1D"}),"정직함은 곧 아티스트와 온리원 뮤직의 신뢰입니다."]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 text-base",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC4"}),"자체계약 발매시스템을 통해 모든 계약을 홈페이지를 통해 직접 확인하실 수 있습니다."]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 text-base",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\xa9️"}),"온리원 뮤직은 가치있는 음악 저작권 문화를 만들어갑니다."]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700 text-base",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFB5"}),"음악을 통해 새로운 문화를 지속적으로 만들어가는 글로벌 온라인 유통저작권 회사로 최선을 다하겠습니다."]})]})]})})}},35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},52003:(e,s,a)=>{Promise.resolve().then(a.bind(a,24407))}},e=>{var s=s=>e(e.s=s);e.O(0,[3464,6874,1886,8441,1684,7358],()=>s(52003)),_N_E=e.O()}]);