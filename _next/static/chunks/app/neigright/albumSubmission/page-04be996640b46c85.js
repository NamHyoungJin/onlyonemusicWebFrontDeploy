(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5488],{5440:(e,a,t)=>{Promise.resolve().then(t.bind(t,93779))},93779:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var i=t(95155),l=t(12115),n=t(34964),s=t(97168),m=t(5196),r=t(25784),u=t(16668),c=t(27566),b=t(56815);function o(){let[e,a]=(0,l.useState)("basic"),[t,o]=(0,l.useState)({albumSid:"",albumName:"",albumSubName:"",albumGubn:"",gtinCode:"",agency:"",distributor:"(주)온리원뮤직",artist:"",mimsMedia:"",releaseDate:"",releaseNation:"대한민국",albumTheme:"",albumStatus:"",mimsTheme:"",productionDate:"",albumType:"",albumDetailsTheme:"",albumImage:null,imagePreview:null,albumReview:"",langeData:{kor:{name:"",subName:"",artist:"",agency:"",distribution:""},eng:{name:"",subName:"",artist:"",agency:"",distribution:""},jpn:{name:"",subName:"",artist:"",agency:"",distribution:""},chn:{name:"",subName:"",artist:"",agency:"",distribution:""}}}),[g,d]=(0,l.useState)({}),[p,h]=(0,l.useState)(null),[y,k]=(0,l.useState)([]),T=e=>{h({trackUniqueCode:e.trackUniqueCode,cdNumber:e.cdNumber,trackNumber:e.trackNumber,trackName:e.trackName,trackSubtitle:"",trackArtist:"",participatingArtist:"",featuring:"",performer:"",playbackTime:"",trackGenre:"",trackSubGenre:"",mimsGenre:"",trackAgency:"",trackDistributor:"(주)온리원뮤직",lyricsBy:"",composedBy:"",arrangementBy:"",isrcCode:"",uciCode:"",soribadaKid:"",isTitleTrack:e.isTitleTrack,isInstrumental:!1,hasMusicVideo:!1,musicVideoReviewDate:"",musicVideoReviewStation:"",isActive:!0,trackLyrics:"",wavFile:null,wavRates:"",wavPlayTime:"",wavBits:"",wavSize:"",mp3File:null,mp3Rates:"",mp3PlayTime:"",mp3Bits:"",mp3Size:"",flacFile:null,flacRates:"",flacPlayTime:"",flacBits:"",flacSize:"",mp4File:null,mp4Encode:"",mp4PlayTime:"",mp4FrameRate:"",mp4Resolution:"",trackTitleEn:"",trackSubTitleEn:"",trackArtistEn:"",trackTitleJp:"",trackSubTitleJp:"",trackArtistJp:"",trackTitleCn:"",trackSubTitleCn:"",trackArtistCn:"",youtubeUrl:"",youtubeTitle:"",youtubeDescription:""})},A=()=>{let e={};return t.albumName.trim()||(e.albumName="앨범명을 입력해주세요."),t.artist.trim()||(e.artist="아티스트명을 입력해주세요."),t.releaseNation||(e.releaseNation="발매 국가를 선택해주세요."),t.productionDate||(e.productionDate="앨범 제작일을 선택해주세요."),t.agency.trim()||(e.agency="제작사(기획사)를 입력해주세요."),t.albumGubn||(e.albumGubn="앨범 구분을 선택해주세요."),t.albumType||(e.albumType="앨범 성격을 선택해주세요."),t.albumTheme||(e.albumTheme="앨범 장르를 선택해주세요."),t.albumDetailsTheme||(e.albumDetailsTheme="앨범 세부 장르를 선택해주세요."),d(e),0===Object.keys(e).length},D=async()=>{var e,i,l,n,s,m,u;if(!A()){let e=[];g.albumName&&e.push("앨범명"),g.artist&&e.push("아티스트"),g.releaseNation&&e.push("발매 국가"),g.productionDate&&e.push("앨범 제작일"),g.agency&&e.push("제작사(기획사)"),g.albumGubn&&e.push("앨범 구분"),g.albumType&&e.push("앨범 성격"),g.albumTheme&&e.push("앨범 장르"),g.albumDetailsTheme&&e.push("앨범 세부 장르"),alert("다음 필수 항목을 입력해주세요:\n\n".concat(e.join("\n"))),a("basic");return}try{let s={musicAlbumName:t.albumName,musicAlbumArtist:t.artist,musicAlbumGubn:t.albumGubn,musicAlbumNation:t.releaseNation,musicAlbumProductionDate:t.productionDate,musicAlbumAgency:t.agency,musicAlbumType:t.albumType,musicAlbumTheme:t.albumTheme,musicAlbumDetailsTheme:t.albumDetailsTheme,musicAlbumReview:t.albumReview||"",musicAlbumMedia:t.mimsMedia||"",musicAlbumMimsTheme:t.mimsTheme||"",musicAlbumGtinCode:t.gtinCode||"",langeData:{}};(t.langeData.eng.name||t.langeData.eng.artist||t.langeData.eng.agency)&&(s.langeData.eng={musicAlbumLangeName:t.langeData.eng.name||"",musicAlbumLangeArtist:t.langeData.eng.artist||"",musicAlbumLangeAgency:t.langeData.eng.agency||"",musicAlbumLangeDistribution:"OnlyOneMusic Co., Ltd."}),(t.langeData.jpn.name||t.langeData.jpn.artist||t.langeData.jpn.agency)&&(s.langeData.jpn={musicAlbumLangeName:t.langeData.jpn.name||"",musicAlbumLangeArtist:t.langeData.jpn.artist||"",musicAlbumLangeAgency:t.langeData.jpn.agency||"",musicAlbumLangeDistribution:"(株)オンリーワンミュージック"}),(t.langeData.chn.name||t.langeData.chn.artist||t.langeData.chn.agency)&&(s.langeData.chn={musicAlbumLangeName:t.langeData.chn.name||"",musicAlbumLangeArtist:t.langeData.chn.artist||"",musicAlbumLangeAgency:t.langeData.chn.agency||"",musicAlbumLangeDistribution:"(株)唯一音乐"}),0===Object.keys(s.langeData).length&&delete s.langeData;let m=await r.A.post("/music/neigright/albumSubmissionInsert/",s);if((null==(i=m.data)||null==(e=i.onlyonemusicAPIResponse)?void 0:e.ErrorCode)==="00")alert("앨범 등록이 완료되었습니다. 검토 후 승인됩니다."),o({albumSid:"",albumName:"",albumSubName:"",albumGubn:"",gtinCode:"",agency:"",distributor:"(주)온리원뮤직",artist:"",mimsMedia:"",releaseDate:"",releaseNation:"대한민국",albumTheme:"",albumStatus:"",mimsTheme:"",productionDate:"",albumType:"",albumDetailsTheme:"",albumImage:null,imagePreview:null,albumReview:"",langeData:{kor:{name:"",subName:"",artist:"",agency:"",distribution:""},eng:{name:"",subName:"",artist:"",agency:"",distribution:""},jpn:{name:"",subName:"",artist:"",agency:"",distribution:""},chn:{name:"",subName:"",artist:"",agency:"",distribution:""}}}),a("basic");else{let e=(null==(n=m.data)||null==(l=n.onlyonemusicAPIResponse)?void 0:l.Message)||"앨범 등록에 실패했습니다.";alert(e)}}catch(e){alert((null==(u=e.response)||null==(m=u.data)||null==(s=m.onlyonemusicAPIResponse)?void 0:s.Message)||e.message||"앨범 등록 중 오류가 발생했습니다.")}};return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"발매 앨범 등록"}),(0,i.jsx)("p",{className:"text-gray-600",children:"음원 유통을 위한 앨범 정보를 입력해주세요. 필수 항목(*)은 반드시 입력해야 합니다."})]}),(0,i.jsxs)(n.tU,{value:e,onValueChange:a,className:"w-full",children:[(0,i.jsxs)(n.j7,{className:"grid w-full grid-cols-3 mb-6",children:[(0,i.jsxs)(n.Xi,{value:"basic",className:"flex items-center gap-2",children:[(0,i.jsx)(m.A,{className:"h-4 w-4"}),"발매 앨범기본정보"]}),(0,i.jsx)(n.Xi,{value:"track",className:"flex items-center gap-2",children:"발매 앨범 트랙 정보"}),(0,i.jsx)(n.Xi,{value:"file",className:"flex items-center gap-2",children:"발매 앨범 트랙 음원 파일 업로드"})]}),(0,i.jsx)(n.av,{value:"basic",children:(0,i.jsx)(u.A,{formData:t,errors:g,handleInputChange:(e,a)=>{o(t=>({...t,[e]:a})),g[e]&&d(a=>({...a,[e]:""}))},handleImageChange:e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];if(t){if(t.size>0xa00000)return void alert("이미지 파일 크기는 10MB 이하여야 합니다.");if(!t.type.startsWith("image/"))return void alert("이미지 파일만 업로드 가능합니다.");o(e=>({...e,albumImage:t}));let e=new FileReader;e.onloadend=()=>{o(a=>({...a,imagePreview:e.result}))},e.readAsDataURL(t)}},removeImage:()=>{o(e=>({...e,albumImage:null,imagePreview:null}))},handleLangeChange:(e,a,t)=>{o(i=>({...i,langeData:{...i.langeData,[e]:{...i.langeData[e],[a]:t}}}))}})}),(0,i.jsx)(n.av,{value:"track",children:(0,i.jsx)(c.A,{selectedTrack:p,trackList:y,onTrackChange:h,onTrackListChange:k,onTrackSelect:T})}),(0,i.jsx)(n.av,{value:"file",children:(0,i.jsx)(b.A,{selectedTrack:p,trackList:y,onTrackSelect:T,onTrackChange:(e,a)=>{h(t=>t?{...t,[e]:a}:{...{trackUniqueCode:"",cdNumber:"",trackNumber:"",trackName:"",trackSubtitle:"",trackArtist:"",participatingArtist:"",featuring:"",performer:"",playbackTime:"",trackGenre:"",trackSubGenre:"",mimsGenre:"",trackAgency:"",trackDistributor:"(주)온리원뮤직",lyricsBy:"",composedBy:"",arrangementBy:"",isrcCode:"",uciCode:"",soribadaKid:"",isTitleTrack:!1,isInstrumental:!1,hasMusicVideo:!1,musicVideoReviewDate:"",musicVideoReviewStation:"",isActive:!0,trackLyrics:"",wavFile:null,wavRates:"",wavPlayTime:"",wavBits:"",wavSize:"",mp3File:null,mp3Rates:"",mp3PlayTime:"",mp3Bits:"",mp3Size:"",flacFile:null,flacRates:"",flacPlayTime:"",flacBits:"",flacSize:"",mp4File:null,mp4Encode:"",mp4PlayTime:"",mp4FrameRate:"",mp4Resolution:"",trackTitleEn:"",trackSubTitleEn:"",trackArtistEn:"",trackTitleJp:"",trackSubTitleJp:"",trackArtistJp:"",trackTitleCn:"",trackSubTitleCn:"",trackArtistCn:"",youtubeUrl:"",youtubeTitle:"",youtubeDescription:""},[e]:a})}})})]}),(0,i.jsxs)("div",{className:"mt-8 flex justify-end gap-4",children:[(0,i.jsx)(s.$,{variant:"outline",size:"lg",children:"임시 저장"}),(0,i.jsx)(s.$,{size:"lg",onClick:D,className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700",children:"앨범 등록하기"})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[3464,4277,4109,8588,1886,5372,8441,1684,7358],()=>a(5440)),_N_E=e.O()}]);